const airLineCheck={changeAirLineSelectAll(event){const isChecked=event.target.checked,newFilterValue=isChecked;$("input[data-airline]").each(((i,node)=>{let airline=node.dataset.airline;node.checked=isChecked,filterConfig.airlines[airline]=newFilterValue})),filterConfig.isAirlinesDirty=!isChecked,applyFilter()}},takeOffCheckbox={t_0:!1,t_6:!1,t_12:!1,t_18:!1,t_select_all:!1,handleTChange(){this.t_0&&this.t_6&&this.t_12&&this.t_18?this.t_select_all=!0:this.t_select_all=!1},changeTakeOffSelectAll(event){const isChecked=event.target.checked;$("input[data-takeoffCheck]").each(((i,node)=>{node.checked=isChecked,filterConfig.takeOff.fill(!isChecked)})),takeOffFilter(0,24)}},arrivalCheckbox={a_0:!1,a_6:!1,a_12:!1,a_18:!1,a_select_all:!1,handleAChange(){this.a_0&&this.a_6&&this.a_12&&this.a_18?this.a_select_all=!0:this.a_select_all=!1},arrivalSelectAll(event){const isChecked=event.target.checked;$("input[data-arrivalCheck]").each(((i,node)=>{node.checked=isChecked,filterConfig.arrival.fill(!isChecked)})),arrivalFilter(0,24,!0)}},stopCheckbox={nonStop:!1,oneStop:!1,multiStop:!1,stop_select_all:!1,handleSelectAllChange(){this.nonStop=this.oneStop=this.multiStop=this.stop_select_all,filterConfig.stop.NonStop=this.stop_select_all,filterConfig.stop.OneStop=this.stop_select_all,filterConfig.stop.MultiStop=this.stop_select_all,applyFilter()},handleChange(){this.stop_select_all=this.nonStop&&this.oneStop&&this.multiStop}};document.addEventListener("alpine:init",(()=>{Alpine.store("airLineCheck",airLineCheck),Alpine.store("takeOffCheckbox",takeOffCheckbox),Alpine.store("arrivalCheckbox",arrivalCheckbox),Alpine.store("stopCheckbox",stopCheckbox)}));const filterConfig={takeOff:new Array(24).fill(!0),arrival:new Array(24).fill(!0),stop:{NonStop:!0,OneStop:!0,MultiStop:!0},isAirlinesDirty:!1,airlines:{}};window.filterConfig=filterConfig,$(document).ready((()=>{$("input[data-airline]").each(((index,node)=>{const airline=node.dataset.airline;filterConfig.airlines[airline]=!1}))}));const airlineFilter=node=>{filterConfig.isAirlinesDirty=!0;const airline=node.dataset.airline;filterConfig.airlines[airline]=!filterConfig.airlines[airline],applyFilter()},clearAirlineFilter=()=>{$("#airline-select-all").prop("checked",!1),$("input[data-airline]").each(((i,node)=>{let airline=node.dataset.airline;node.checked=!1,filterConfig.airlines[airline]=!0})),filterConfig.isAirlinesDirty=!1,applyFilter()},applyFilter=()=>{$("[data-stop-info]").each(((i,node)=>{let takeOff=node.dataset.takeOff,arrivalTime=node.dataset.arrivalTime,stopInfo=node.dataset.stopInfo,airline=node.dataset.airline,isAirlineVisible=!0;takeOff=parseInt(takeOff),arrivalTime=arrivalTime.split(":")[0],arrivalTime=parseInt(arrivalTime),filterConfig.isAirlinesDirty&&(isAirlineVisible=filterConfig.airlines[airline]),filterConfig.arrival[arrivalTime]&&filterConfig.takeOff[takeOff]&&filterConfig.stop[stopInfo]&&isAirlineVisible?$(node).toggle(!0):$(node).toggle(!1)})),$("#total_flights").text($("[data-take-off]:visible").length),console.log("filterConfig ",filterConfig)},takeOffFilter=(start,end)=>{start=parseInt(start),end=parseInt(end);for(let i=start;i<end;i++)filterConfig.takeOff[i]=!filterConfig.takeOff[i];applyFilter()},clearTakeOff=()=>{$("#take-off-time-select-all").prop("checked",!1),$("input[data-takeoffCheck]").each(((i,node)=>{node.checked=!1})),filterConfig.takeOff.fill(!1)},arrivalFilter=(start,end,forceDisplay)=>{start=parseInt(start),end=parseInt(end);for(let i=start;i<end;i++)filterConfig.arrival[i]=!filterConfig.arrival[i];applyFilter()},clearArrivalFilter=()=>{$("#arrival-time-select-all").prop("checked",!1),$("input[data-arrivalCheck]").each(((i,node)=>{node.checked=!1})),filterConfig.arrival.fill(!1)},applyStopFilter=stopType=>{console.log(stopType,filterConfig.stop[stopType]),filterConfig.stop[stopType]=!filterConfig.stop[stopType],applyFilter()},clearStopFilter=()=>{$("#stopInfo-select-all").prop("checked",!1),$("#stopInfo-NonStop").prop("checked",!1),$("#stopInfo-OneStop").prop("checked",!1),$("#stopInfo-MultiStop").prop("checked",!1),filterConfig.stop.NonStop=!0,filterConfig.stop.OneStop=!0,filterConfig.stop.MultiStop=!0,applyFilter()};$(".custom-control-input").change((function(id){if("airline"==this.dataset.name){let a=$("[data-airline]").filter(((index,item)=>item.dataset.airline==this.name))[0];airlineFilter(a)}let keyword=this.id.split(`-${this.name}`)[0];var stopType;"take-off-time"==keyword?(start=parseInt(this.name),takeOffFilter(start,start+6)):"arrival-time"==keyword?(start=parseInt(this.name),arrivalFilter(start,start+6,!1)):"stopInfo"==keyword?(stopType=this.name,console.log(stopType,filterConfig.stop[stopType]),filterConfig.stop[stopType]=!filterConfig.stop[stopType],applyFilter()):applyFilter()}));